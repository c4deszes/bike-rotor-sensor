#if !defined(BSP_PINOUT_H_)
#define BSP_PINOUT_H_

#include "hal/gpio.h"
#include "hal/sercom_usart.h"

// TODO: isn't that great that we include it, since it could transitively end up in the app
#include "sam.h"

/** Voltage monitoring pin */
#define VOLT_GPIO_PORT PORT_GROUP_A
#define VOLT_GPIO_PIN 8
#define VOLT_GPIO_PINMUX MUX_PA08B_ADC_AIN16
#define VOLT_GPIO_ADC_CHANNEL 16

/** 2-wire hall effect sensor driver pins */
#define MAX9621_INPUT1_PORT PORT_GROUP_A
#define MAX9621_INPUT1_PIN 7
#define MAX9621_INPUT1_PINMUX MUX_PA07A_EIC_EXTINT7
#define MAX9621_INPUT1_EXTINT 7

#define MAX9621_INPUT1_DIAG_PORT PORT_GROUP_A
#define MAX9621_INPUT1_DIAG_PIN 6
#define MAX9621_INPUT1_DIAG_PINMUX MUX_PA06B_ADC_AIN6

#define MAX9621_INPUT2_PORT PORT_GROUP_A
#define MAX9621_INPUT2_PIN 10
#define MAX9621_INPUT2_PINMUX MUX_PA10A_EIC_EXTINT10
#define MAX9621_INPUT2_EXTINT 10

#define MAX9621_INPUT2_DIAG_PORT PORT_GROUP_A
#define MAX9621_INPUT2_DIAG_PIN 9
#define MAX9621_INPUT2_DIAG_PINMUX MUX_PA09B_ADC_AIN17

#define MAX9621_SLEEP_PORT PORT_GROUP_A
#define MAX9621_SLEEP_PIN 0

/** Crankset sensor input */
#define MAX9921_DIAG_PORT PORT_GROUP_A
#define MAX9921_DIAG_PIN 1

#define MAX9921_INPUT3_PORT PORT_GROUP_A
#define MAX9921_INPUT3_PIN 15
#define MAX9921_INPUT3_PINMUX MUX_PA15A_EIC_EXTINT15

#define MAX9921_ENABLE_PORT PORT_GROUP_A
#define MAX9921_ENABLE_PIN 11

#define MAX9921_ERROR_PORT PORT_GROUP_A
#define MAX9921_ERROR_PIN 14

/** BMP581 Pressure sensor pins */
#define BMP581_SPI_MOSI_PORT PORT_GROUP_A
#define BMP581_SPI_MOSI_PIN 16
#define BMP581_SPI_MOSI_PINMUX MUX_PA16C_SERCOM1_PAD0

#define BMP581_SPI_MISO_PORT PORT_GROUP_A
#define BMP581_SPI_MISO_PIN 19
#define BMP581_SPI_MISO_PINMUX MUX_PA19C_SERCOM1_PAD3

#define BMP581_SPI_SCK_PORT PORT_GROUP_A
#define BMP581_SPI_SCK_PIN 17
#define BMP581_SPI_SCK_PINMUX MUX_PA17C_SERCOM1_PAD1

#define BMP581_SPI_CS_PORT PORT_GROUP_A
#define BMP581_SPI_CS_PIN 18

/** BMI088 6-axis IMU pins */
#define BMI088_SPI_MISO_PORT PORT_GROUP_A
#define BMI088_SPI_MISO_PIN 25
#define BMI088_SPI_MISO_PINMUX MUX_PA25C_SERCOM3_PAD3

#define BMI088_SPI_SCK_PORT PORT_GROUP_A
#define BMI088_SPI_SCK_PIN 23
#define BMI088_SPI_SCK_PINMUX MUX_PA23C_SERCOM3_PAD1

#define BMI088_SPI_CS_ACC_PORT PORT_GROUP_A
#define BMI088_SPI_CS_ACC_PIN 24

#define BMI088_SPI_MOSI_PORT PORT_GROUP_A
#define BMI088_SPI_MOSI_PIN 22
#define BMI088_SPI_MOSI_PINMUX MUX_PA22C_SERCOM3_PAD0

#define BMI088_SPI_CS_GYRO_PORT PORT_GROUP_A
#define BMI088_SPI_CS_GYRO_PIN 27

/** UART pins */
#define UART_RX_PORT PORT_GROUP_A
#define UART_RX_PIN 5
#define UART_RX_PINMUX MUX_PA05D_SERCOM0_PAD1

#define UART_TX_PORT PORT_GROUP_A
#define UART_TX_PIN 4
#define UART_TX_PINMUX MUX_PA04D_SERCOM0_PAD0

#define UART_CS_PORT PORT_GROUP_A
#define UART_CS_PIN 3

#define UART_TX_PAD SERCOM_USART_TX_PAD0
#define UART_RX_PAD SERCOM_USART_RX_PAD1

#endif // BSP_PINOUT_H_
